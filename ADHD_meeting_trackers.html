        // Initialize enhanced features
        document.addEventListener('DOMContentLoaded', function() {
            // Add subtle animations
            const sections = document.querySelectorAll('.section');
            sections.forEach((section, index) => {
                section.style.animationDelay = `${index * 0.1}s`;
                section.style.animation = 'fadeInUp 0.5s ease forwards';
            });
        });

        // Add CSS animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);

        // ===== NEW ENHANCED FEATURES =====

        // Priority System
        function setPriority(element, priority) {
            // Remove selected from siblings
            element.parentNode.querySelectorAll('.priority-dot').forEach(dot => {
                dot.classList.remove('selected');
            });
            element.classList.add('selected');
            
            // Apply priority to section
            const section = element.closest('.section');
            section.classList.remove('priority-high', 'priority-medium', 'priority-low');
            if (priority !== 'none') {
                section.classList.add(`priority-${priority}`);
            }
            currentSectionPriority = priority;
            autoSave();
        }

        function setTaskPriority(element, priority) {
            // Remove selected from siblings
            element.parentNode.querySelectorAll('.priority-dot').forEach(dot => {
                dot.classList.remove('selected');
            });
            element.classList.add('selected');
            
            // Apply priority to task item
            const taskItem = element.closest('.task-item');
            taskItem.classList.remove('priority-high', 'priority-medium', 'priority-low');
            if (priority !== 'none') {
                taskItem.classList.add(`priority-${priority}`);
            }
            autoSave();
        }

        // Drag and Drop for Tasks
        function allowDrop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.add('drag-over');
        }

        function drag(ev) {
            draggedElement = ev.target;
            ev.target.classList.add('dragging');
        }

        function drop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.remove('drag-over');
            
            if (draggedElement) {
                const dropTarget = ev.currentTarget;
                const afterElement = getDragAfterElement(dropTarget, ev.clientY);
                
                if (afterElement == null) {
                    dropTarget.appendChild(draggedElement);
                } else {
                    dropTarget.insertBefore(draggedElement, afterElement);
                }
                
                draggedElement.classList.remove('dragging');
                draggedElement = null;
                autoSave();
            }
        }

        function getDragAfterElement(container, y) {
            const draggableElements = [...container.querySelectorAll('.task-item:not(.dragging)')];
            
            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = y - box.top - box.height / 2;
                
                if (offset < 0 && offset > closest.offset) {
                    return { offset: offset, element: child };
                } else {
                    return closest;
                }
            }, { offset: Number.NEGATIVE_INFINITY }).element;
        }

        // Audio Recording Functions
        async function toggleAudioRecording() {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                stopAudioRecording();
            } else {
                startAudioRecording();
            }
        }

        async function startAudioRecording() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                mediaRecorder = new MediaRecorder(stream);
                audioChunks = [];
                recordingSeconds = 0;

                mediaRecorder.ondataavailable = event => {
                    audioChunks.push(event.data);
                };

                mediaRecorder.onstop = () => {
                    const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                    const audioUrl = URL.createObjectURL(audioBlob);
                    addMediaToPreview('audio', audioUrl, `Voice Note ${new Date().toLocaleTimeString()}`);
                    stream.getTracks().forEach(track => track.stop());
                };

                mediaRecorder.start();
                document.getElementById('recordingIndicator').classList.add('active');
                document.getElementById('mediaPreview').style.display = 'block';

                recordingInterval = setInterval(() => {
                    recordingSeconds++;
                    const minutes = Math.floor(recordingSeconds / 60);
                    const seconds = recordingSeconds % 60;
                    document.getElementById('recordingTime').textContent = 
                        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }, 1000);

            } catch (error) {
                console.error('Error starting audio recording:', error);
                alert('Unable to access microphone. Please<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADHD Meeting Brain Dump & Action Tracker Pro</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .progress-container {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            height: 8px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: #fff;
            border-radius: 10px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            margin-top: 10px;
            font-size: 0.9em;
            opacity: 0.9;
        }

        .content {
            padding: 0;
        }

        .section {
            padding: 25px 30px;
            border-bottom: 1px solid #eee;
            position: relative;
        }

        .section:last-child {
            border-bottom: none;
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-icon {
            font-size: 1.5em;
            margin-right: 10px;
        }

        .section h2 {
            color: #2c3e50;
            font-size: 1.3em;
            font-weight: 600;
        }

        .section h3 {
            color: #34495e;
            font-size: 1.1em;
            margin: 20px 0 10px 0;
            font-weight: 600;
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .form-group {
            flex: 1;
            min-width: 200px;
        }

        .form-group.small {
            flex: 0.3;
            min-width: 100px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        input[type="text"], input[type="date"], input[type="time"], textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        input[type="text"]:focus, input[type="date"]:focus, input[type="time"]:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .brain-dump textarea {
            min-height: 120px;
            font-family: inherit;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .checkbox-item:hover {
            background: #e9ecef;
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #4facfe;
        }

        .checkbox-item.checked {
            background: #d4edda;
            border-color: #28a745;
        }

        .rating-scale {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .rating-button {
            width: 35px;
            height: 35px;
            border: 2px solid #ddd;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .rating-button:hover {
            border-color: #4facfe;
            background: #f0f8ff;
        }

        .rating-button.selected {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
        }

        .action-item {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .action-item:hover {
            border-color: #4facfe;
            box-shadow: 0 2px 8px rgba(79, 172, 254, 0.1);
        }

        .action-item.completed {
            background: #d4edda;
            border-color: #28a745;
        }

        .action-item.urgent {
            border-color: #dc3545;
            background: #f8d7da;
        }

        .priority-buttons {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .priority-btn {
            padding: 4px 12px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .priority-btn.high {
            background: #dc3545;
            color: white;
        }

        .priority-btn.medium {
            background: #ffc107;
            color: #333;
        }

        .priority-btn.low {
            background: #28a745;
            color: white;
        }

        .priority-btn:not(.selected) {
            opacity: 0.3;
        }

        .timer-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 15px 20px;
            border-radius: 25px;
            font-weight: 600;
            z-index: 1000;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .timer-display.warning {
            background: #ffc107;
            color: #333;
        }

        .timer-display.danger {
            background: #dc3545;
            color: white;
            animation: pulse 1s infinite;
        }

        .timer-controls {
            display: none;
            gap: 10px;
            margin-top: 10px;
        }

        .timer-display:hover .timer-controls {
            display: flex;
        }

        .timer-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 15px;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            font-size: 12px;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .floating-actions {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
        }

        .fab {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            border: none;
            background: #4facfe;
            color: white;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .fab:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .fab.save {
            background: #28a745;
        }

        .fab.focus {
            background: #6f42c1;
        }

        .fab.mindmap {
            background: #e91e63;
        }

        .fab.audio {
            background: #ff5722;
        }

        .fab.camera {
            background: #607d8b;
        }

        /* Priority color coding */
        .priority-high {
            border-left: 5px solid #dc3545 !important;
            background-color: rgba(220, 53, 69, 0.1);
        }

        .priority-medium {
            border-left: 5px solid #ffc107 !important;
            background-color: rgba(255, 193, 7, 0.1);
        }

        .priority-low {
            border-left: 5px solid #28a745 !important;
            background-color: rgba(40, 167, 69, 0.1);
        }

        .priority-selector {
            display: flex;
            gap: 10px;
            margin: 10px 0;
            align-items: center;
        }

        .priority-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .priority-dot.high { background: #dc3545; }
        .priority-dot.medium { background: #ffc107; }
        .priority-dot.low { background: #28a745; }
        .priority-dot.none { background: #e9ecef; }

        .priority-dot.selected {
            border-color: #333;
            transform: scale(1.2);
        }

        /* Mind map styles */
        .mindmap-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 3000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .mindmap-content {
            background: white;
            width: 95%;
            height: 95%;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .mindmap-canvas {
            width: 100%;
            height: calc(100% - 60px);
            background: radial-gradient(circle, #f8f9fa 1px, transparent 1px);
            background-size: 20px 20px;
            position: relative;
            overflow: auto;
        }

        .mindmap-toolbar {
            height: 60px;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            padding: 0 20px;
            gap: 15px;
            border-bottom: 1px solid #e9ecef;
        }

        .mindmap-node {
            position: absolute;
            background: white;
            border: 2px solid #4facfe;
            border-radius: 25px;
            padding: 10px 20px;
            cursor: move;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            min-width: 100px;
            text-align: center;
            font-weight: 500;
            user-select: none;
        }

        .mindmap-node.selected {
            border-color: #e91e63;
            box-shadow: 0 4px 20px rgba(233, 30, 99, 0.3);
        }

        .mindmap-node.high-priority { border-color: #dc3545; background: rgba(220, 53, 69, 0.1); }
        .mindmap-node.medium-priority { border-color: #ffc107; background: rgba(255, 193, 7, 0.1); }
        .mindmap-node.low-priority { border-color: #28a745; background: rgba(40, 167, 69, 0.1); }

        /* Media upload styles */
        .media-upload {
            display: flex;
            gap: 10px;
            margin: 10px 0;
            flex-wrap: wrap;
        }

        .media-btn {
            padding: 8px 15px;
            border: 2px solid #e9ecef;
            border-radius: 20px;
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .media-btn:hover {
            border-color: #4facfe;
            background: #f0f8ff;
        }

        .media-btn.active {
            border-color: #4facfe;
            background: #4facfe;
            color: white;
        }

        .media-preview {
            margin: 15px 0;
            padding: 15px;
            border: 2px dashed #e9ecef;
            border-radius: 10px;
            text-align: center;
            display: none;
        }

        .media-item {
            display: inline-block;
            margin: 5px;
            padding: 10px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: #f8f9fa;
            position: relative;
        }

        .media-item img, .media-item video {
            max-width: 200px;
            max-height: 150px;
            border-radius: 5px;
        }

        .media-item audio {
            width: 200px;
        }

        .media-remove {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .recording-indicator {
            display: none;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            background: #dc3545;
            color: white;
            border-radius: 20px;
            font-weight: 500;
        }

        .recording-indicator.active {
            display: flex;
            animation: pulse 1.5s infinite;
        }

        .recording-dot {
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        /* Enhanced task styles */
        .task-item {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            position: relative;
        }

        .task-item:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .task-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .task-content {
            margin-left: 30px;
        }

        .task-meta {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            font-size: 12px;
            color: #6c757d;
        }

        .task-tags {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .task-tag {
            background: #e9ecef;
            color: #495057;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
        }

        .drag-handle {
            cursor: grab;
            color: #6c757d;
        }

        .drag-handle:active {
            cursor: grabbing;
        }

        /* Drag and drop styles */
        .drag-over {
            background: rgba(79, 172, 254, 0.1);
            border-color: #4facfe;
        }

        .dragging {
            opacity: 0.5;
        }

        .fab-tooltip {
            position: absolute;
            right: 65px;
            background: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .fab:hover .fab-tooltip {
            opacity: 1;
        }

        .templates-dropdown {
            position: relative;
            margin-bottom: 20px;
        }

        .template-option {
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .template-option:hover {
            background: #e9ecef;
        }

        .word-counter {
            position: absolute;
            bottom: 5px;
            right: 10px;
            font-size: 12px;
            color: #6c757d;
        }

        .focus-mode {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .focus-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 800px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .focus-timer {
            font-size: 4em;
            font-weight: bold;
            color: #4facfe;
            margin: 20px 0;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn-primary {
            background: #4facfe;
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .notes-area {
            min-height: 100px;
            padding: 15px;
            border: 2px dashed #ddd;
            border-radius: 8px;
            cursor: text;
            transition: all 0.3s ease;
            position: relative;
        }

        .notes-area:hover {
            border-color: #4facfe;
        }

        .notes-area[contenteditable="true"] {
            border-style: solid;
            border-color: #4facfe;
        }

        .notes-area.placeholder {
            color: #999;
            font-style: italic;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            padding: 10px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .checklist-item:hover {
            border-color: #4facfe;
        }

        .checklist-item.completed {
            background: #d4edda;
            border-color: #28a745;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #ddd;
            border-radius: 4px;
            margin-right: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .checkbox.checked {
            background: #28a745;
            border-color: #28a745;
            color: white;
        }

        .checkbox.checked::after {
            content: '‚úì';
            font-weight: bold;
        }

        .checkbox-label {
            flex: 1;
            cursor: pointer;
        }

        .checkbox-label.completed {
            text-decoration: line-through;
            opacity: 0.7;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            margin-left: 10px;
            transition: all 0.3s ease;
        }

        .delete-btn:hover {
            background: #c82333;
            transform: scale(1.1);
        }

        .add-btn {
            background: #28a745;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .add-btn:hover {
            background: #218838;
            transform: translateY(-1px);
        }

        .feature-highlight {
            background: linear-gradient(45deg, #fff3cd, #f8d7da);
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 0 8px 8px 0;
        }

        .save-indicator {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #28a745;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1001;
        }

        .save-indicator.show {
            opacity: 1;
        }

        .export-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .export-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
        }

        .export-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .export-option {
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .export-option:hover {
            border-color: #4facfe;
            background: #f0f8ff;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .section {
                padding: 20px;
            }
            
            .form-row {
                flex-direction: column;
            }
            
            .form-group {
                min-width: 100%;
            }
            
            .timer-display {
                position: static;
                margin: 20px auto;
                display: block;
                text-align: center;
                width: fit-content;
            }
            
            .floating-actions {
                position: static;
                flex-direction: row;
                justify-content: center;
                margin: 20px auto;
            }
        }
    </style>
</head>
<body>
    <div class="save-indicator" id="saveIndicator">‚úì Auto-saved</div>
    
    <div class="timer-display" id="timerWidget" onclick="toggleTimerControls()">
        <span>‚è±Ô∏è</span>
        <span id="timerDisplay">00:00</span>
        <div class="timer-controls" id="timerControls">
            <button class="timer-btn" onclick="startTimer()" id="startBtn">Start</button>
            <button class="timer-btn" onclick="pauseTimer()" id="pauseBtn" style="display:none;">Pause</button>
            <button class="timer-btn" onclick="stopTimer()">Reset</button>
        </div>
    </div>
    
    <div class="container">
        <div class="header">
            <h1>üß† Meeting Brain Dump & Action Tracker Pro</h1>
            <p class="subtitle">Small Steps, Big Impact</p>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="progress-text" id="progressText">0% Complete</div>
        </div>

        <div class="content">
            <!-- Meeting Templates Section -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">üìã</span>
                    <h2>Quick Start Templates</h2>
                </div>
                <div class="feature-highlight">
                    <strong>‚ú® Smart Feature:</strong> Pre-built templates auto-fill common meeting types to get you started faster!
                </div>
                <div class="templates-dropdown">
                    <select id="templateSelect" onchange="loadTemplate()">
                        <option value="">Choose a template...</option>
                        <option value="team-sync">Team Sync Meeting</option>
                        <option value="client-call">Client Call</option>
                        <option value="brainstorming">Brainstorming Session</option>
                        <option value="one-on-one">1-on-1 Meeting</option>
                        <option value="project-kickoff">Project Kickoff</option>
                        <option value="blank">Blank Template</option>
                    </select>
                </div>
            </div>

            <!-- Pre-Meeting Setup -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">üéØ</span>
                    <h2>PRE-MEETING SETUP (2 minutes)</h2>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Meeting Title:</label>
                        <input type="text" id="meetingTitle" placeholder="What's this meeting about?" oninput="autoSave(); updateProgress()">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Meeting Date:</label>
                        <input type="date" id="meetingDate" oninput="autoSave(); updateProgress()">
                    </div>
                    <div class="form-group">
                        <label>Time:</label>
                        <input type="time" id="meetingTime" oninput="autoSave(); updateProgress()">
                    </div>
                </div>

                <div class="form-group">
                    <label>Meeting Purpose (One sentence):</label>
                    <div style="position: relative;">
                        <textarea id="meetingPurpose" placeholder="What are we trying to accomplish?" oninput="autoSave(); updateProgress(); updateWordCount(this, 'wordCount1')"></textarea>
                        <div class="word-counter" id="wordCount1">0 words</div>
                    </div>
                </div>

                <h3>Key People & Their Roles:</h3>
                <div id="peopleContainer">
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" placeholder="Person's name" oninput="autoSave()">
                        </div>
                        <div class="form-group">
                            <input type="text" placeholder="Their role/title" oninput="autoSave()">
                        </div>
                        <button class="add-btn" onclick="addUrgentItem()">üö® Add Urgent Item</button>
            </div>

            <!-- Important Section -->
            <div class="section important-section">
                <div class="section-header">
                    <span class="section-icon">‚≠ê</span>
                    <h2>IMPORTANT</h2>
                </div>
                <div id="important-items">
                    <div class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <label class="checkbox-label" contenteditable="true">Click to edit important item</label>
                        <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
                    </div>
                </div>
                <button class="add-btn" onclick="addImportantItem()">‚≠ê Add Important Item</button>
            </div>

            <!-- Future Actions -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">üìÖ</span>
                    <h2>Future Actions (Next week+)</h2>
                </div>
                <p style="margin-bottom: 15px; color: #6b7280; font-size: 0.9rem;">PUT IN TASK SYSTEM</p>
                <div id="future-actions">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Due:</label>
                            <input type="date" class="form-input" oninput="autoSave()">
                        </div>
                        <div class="form-group">
                            <label>Task:</label>
                            <input type="text" class="form-input" placeholder="Describe the task" oninput="autoSave()">
                        </div>
                        <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
                    </div>
                </div>
                <button class="add-btn" onclick="addFutureAction()">üìÖ Add Future Action</button>
            </div>

            <!-- People & Contact Info -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">üë•</span>
                    <h2>Who Needs What From Me?</h2>
                </div>
                <div id="people-needs">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Name:</label>
                            <input type="text" class="form-input" placeholder="Person's name" oninput="autoSave()">
                        </div>
                        <div class="form-group small">
                            <label>By:</label>
                            <input type="date" class="form-input" oninput="autoSave()">
                        </div>
                        <div class="form-group">
                            <label>Needs:</label>
                            <input type="text" class="form-input" placeholder="What they need" oninput="autoSave()">
                        </div>
                        <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
                    </div>
                </div>
                
                <h3>Who Owes Me What?</h3>
                <div id="people-owes">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Name:</label>
                            <input type="text" class="form-input" placeholder="Person's name" oninput="autoSave()">
                        </div>
                        <div class="form-group">
                            <label>Owes:</label>
                            <input type="text" class="form-input" placeholder="What they owe you" oninput="autoSave()">
                        </div>
                        <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
                    </div>
                </div>
                <button class="add-btn" onclick="addPersonTracking()">üë• Add Person</button>
            </div>

            <!-- Meeting Effectiveness -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">üìä</span>
                    <h2>Meeting Effectiveness Check</h2>
                </div>
                <div class="form-group">
                    <label>Effectiveness Rating:</label>
                    <select class="form-input" id="effectivenessRating" onchange="updateProgress(); autoSave()">
                        <option value="">Select rating</option>
                        <option value="1">1 - Waste of time</option>
                        <option value="2">2 - Somewhat useful</option>
                        <option value="3">3 - Good progress</option>
                        <option value="4">4 - Very productive</option>
                        <option value="5">5 - Excellent outcomes</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>What made it valuable (or not)?</label>
                    <textarea id="valueReflection" placeholder="Reflect on what worked well or what didn't" oninput="autoSave()"></textarea>
                </div>
                <div class="form-group">
                    <label>Energy Level After Meeting:</label>
                    <div class="rating-scale">
                        <span>Low</span>
                        <div class="rating-buttons" id="energyAfterRating">
                            <div class="rating-button" onclick="selectRating('energyAfter', this, 1)">1</div>
                            <div class="rating-button" onclick="selectRating('energyAfter', this, 2)">2</div>
                            <div class="rating-button" onclick="selectRating('energyAfter', this, 3)">3</div>
                            <div class="rating-button" onclick="selectRating('energyAfter', this, 4)">4</div>
                            <div class="rating-button" onclick="selectRating('energyAfter', this, 5)">5</div>
                        </div>
                        <span>High</span>
                    </div>
                </div>
            </div>

            <!-- Follow-up Tracker -->
            <div class="section follow-up-section">
                <div class="section-header">
                    <span class="section-icon">üìã</span>
                    <h2>FOLLOW-UP TRACKER</h2>
                </div>
                <h3>Calendar Items to Add</h3>
                <div id="calendar-items">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Item:</label>
                            <input type="text" class="form-input" placeholder="Calendar item" oninput="autoSave()">
                        </div>
                        <div class="form-group small">
                            <label>Date:</label>
                            <input type="date" class="form-input" oninput="autoSave()">
                        </div>
                        <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
                    </div>
                </div>
                <button class="add-btn" onclick="addCalendarItem()">üìÖ Add Calendar Item</button>
            </div>

            <!-- Key Insights & Decisions -->
            <div class="section priority-section">
                <div class="section-header">
                    <span class="section-icon">üí°</span>
                    <h2>KEY INSIGHTS & DECISIONS</h2>
                </div>
                <div class="form-group">
                    <label>What did I learn/what was decided?</label>
                    <div style="position: relative;">
                        <textarea id="keyInsights" placeholder="Capture key insights and decisions made" oninput="updateWordCount(this, 'wordCount6'); autoSave(); updateProgress()"></textarea>
                        <div class="word-counter" id="wordCount6">0 words</div>
                    </div>
                </div>
                
                <h3>ü§ù COMMITMENT CHECK</h3>
                <p style="margin-bottom: 15px; color: #6b7280; font-size: 0.9rem;">Be honest with yourself about what you can actually do! TOP 3 max!</p>
                
                <div class="form-group">
                    <label>Top 3 commitments I can realistically make:</label>
                    <div style="position: relative;">
                        <textarea id="commitments" placeholder="List only your top 3 most important commitments from this meeting" oninput="updateWordCount(this, 'wordCount7'); autoSave(); updateProgress()"></textarea>
                        <div class="word-counter" id="wordCount7">0 words</div>
                    </div>
                </div>
            </div>

            <!-- Additional Notes -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">üìì</span>
                    <h2>Additional Notes</h2>
                </div>
                <div class="notes-area placeholder" id="additionalNotes" onclick="startEditing(this)" oninput="updateProgress(); autoSave(); updateWordCount(this, 'wordCount8')">
                    Add any additional notes here...
                </div>
                <div class="word-counter" id="wordCount8">0 words</div>
            </div>
        </div>
    </div>

    <!-- Mind Map Modal -->
    <div class="mindmap-modal" id="mindmapModal">
        <div class="mindmap-content">
            <div class="mindmap-toolbar">
                <button class="btn btn-primary" onclick="addMindMapNode()">+ Add Idea</button>
                <button class="btn btn-secondary" onclick="clearMindMap()">Clear Map</button>
                <select onchange="changeMindMapColor(this.value)">
                    <option value="">Node Color</option>
                    <option value="high">Red (High Priority)</option>
                    <option value="medium">Yellow (Medium)</option>
                    <option value="low">Green (Low Priority)</option>
                    <option value="blue">Blue (Ideas)</option>
                </select>
                <div style="margin-left: auto;">
                    <button class="btn btn-primary" onclick="exportMindMap()">Export Map</button>
                    <button class="btn btn-secondary" onclick="closeMindMap()">Close</button>
                </div>
            </div>
            <div class="mindmap-canvas" id="mindmapCanvas"></div>
        </div>
    </div>
        <div class="focus-content">
            <h2>üéØ Focus Mode</h2>
            <p>Single-task focus time. Choose what to work on:</p>
            <div class="focus-timer" id="focusTimer">25:00</div>
            <div style="margin: 20px 0;">
                <button class="btn btn-primary" onclick="startFocusSession(25)">25 min Focus</button>
                <button class="btn btn-secondary" onclick="startFocusSession(15)">15 min Quick</button>
                <button class="btn btn-secondary" onclick="startFocusSession(5)">5 min Break</button>
            </div>
            <button class="btn btn-secondary" onclick="closeFocusMode()">Cancel</button>
        </div>
    </div>

    <!-- Export Modal -->
    <div class="export-modal" id="exportModal">
        <div class="export-content">
            <h2>üì§ Export Options</h2>
            <div class="export-options">
                <div class="export-option" onclick="exportData('text')">
                    <div style="font-size: 2em;">üìÑ</div>
                    <strong>Text File</strong>
                    <p>Simple text format</p>
                </div>
                <div class="export-option" onclick="exportData('json')">
                    <div style="font-size: 2em;">‚öôÔ∏è</div>
                    <strong>JSON Data</strong>
                    <p>Structured data</p>
                </div>
                <div class="export-option" onclick="exportData('email')">
                    <div style="font-size: 2em;">üìß</div>
                    <strong>Email Draft</strong>
                    <p>Ready to send</p>
                </div>
                <div class="export-option" onclick="printData()">
                    <div style="font-size: 2em;">üñ®Ô∏è</div>
                    <strong>Print</strong>
                    <p>Physical copy</p>
                </div>
            </div>
            <button class="btn btn-secondary" onclick="closeExportModal()">Cancel</button>
        </div>
    </div>

    <!-- Floating Action Buttons -->
    <div class="floating-actions">
        <button class="fab save" onclick="manualSave()">
            üíæ
            <div class="fab-tooltip">Save Progress</div>
        </button>
        <button class="fab focus" onclick="openFocusMode()">
            üéØ
            <div class="fab-tooltip">Enter Focus Mode</div>
        </button>
        <button class="fab export" onclick="openExportModal()">
            üì§
            <div class="fab-tooltip">Export & Share</div>
        </button>
        <button class="fab mindmap" onclick="openMindMap()">
            üß†
            <div class="fab-tooltip">Mind Map View</div>
        </button>
        <button class="fab" onclick="clearAll()">
            üóëÔ∏è
            <div class="fab-tooltip">Start Fresh</div>
        </button>
    </div>

    <script>
        // Global variables
        let meetingData = {};
        let timerInterval;
        let timerSeconds = 0;
        let timerRunning = false;
        let focusTimerInterval;
        let focusSeconds = 0;
        let focusRunning = false;
        let autoSaveInterval;
        let mediaRecorder;
        let audioChunks = [];
        let recordingInterval;
        let recordingSeconds = 0;
        let mindMapNodes = [];
        let selectedNode = null;
        let draggedElement = null;
        let currentSectionPriority = 'none';

        // Meeting templates
        const templates = {
            'team-sync': {
                meetingTitle: 'Weekly Team Sync',
                meetingPurpose: 'Check team progress, discuss blockers, align on priorities for the week',
                mainGoal: 'Ensure team alignment and remove blockers for productive week ahead',
                quickActions: [
                    'Review sprint progress',
                    'Identify blockers',
                    'Assign action items',
                    'Schedule follow-ups'
                ]
            },
            'client-call': {
                meetingTitle: 'Client Meeting',
                meetingPurpose: 'Present progress, gather feedback, and discuss next steps with client',
                mainGoal: 'Demonstrate value delivered and secure approval for next phase',
                quickActions: [
                    'Present deliverables',
                    'Gather client feedback',
                    'Discuss timeline',
                    'Confirm next steps'
                ]
            },
            'brainstorming': {
                meetingTitle: 'Brainstorming Session',
                meetingPurpose: 'Generate creative solutions and innovative ideas for current challenge',
                mainGoal: 'Generate 5+ viable solutions to explore and prioritize',
                quickActions: [
                    'Define problem clearly',
                    'Generate ideas freely',
                    'Evaluate solutions',
                    'Select top options'
                ]
            },
            'one-on-one': {
                meetingTitle: '1-on-1 Meeting',
                meetingPurpose: 'Career development discussion and performance check-in',
                mainGoal: 'Provide clear feedback and support employee growth and engagement',
                quickActions: [
                    'Review achievements',
                    'Discuss challenges',
                    'Set growth goals',
                    'Plan development'
                ]
            },
            'project-kickoff': {
                meetingTitle: 'Project Kickoff Meeting',
                meetingPurpose: 'Align team on project scope, timeline, roles and responsibilities',
                mainGoal: 'Get entire team aligned and excited about the project ahead',
                quickActions: [
                    'Review project scope',
                    'Confirm timeline',
                    'Assign roles',
                    'Set communication plan'
                ]
            }
        };

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            setTodaysDate();
            startAutoSave();
            loadSavedData();
            updateProgress();
        });

        function setTodaysDate() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('meetingDate').value = today;
        }

        function startAutoSave() {
            autoSaveInterval = setInterval(autoSave, 30000); // Auto-save every 30 seconds
        }

        // Template functions
        function loadTemplate() {
            const templateName = document.getElementById('templateSelect').value;
            if (!templateName || templateName === 'blank') {
                clearAll();
                return;
            }

            const template = templates[templateName];
            if (template) {
                document.getElementById('meetingTitle').value = template.meetingTitle || '';
                document.getElementById('meetingPurpose').value = template.meetingPurpose || '';
                document.getElementById('mainGoal').value = template.mainGoal || '';
                
                // Clear existing quick actions and add template ones
                if (template.quickActions) {
                    const container = document.getElementById('quick-actions');
                    container.innerHTML = '';
                    template.quickActions.forEach(action => {
                        const newItem = createChecklistItem(action);
                        container.appendChild(newItem);
                    });
                }
                
                updateProgress();
                autoSave();
                showSaveIndicator();
            }
        }

        function createChecklistItem(text) {
            const newItem = document.createElement('div');
            newItem.className = 'task-item';
            newItem.draggable = true;
            newItem.ondragstart = function(e) { drag(e); };
            newItem.innerHTML = `
                <div class="task-header">
                    <span class="drag-handle">‚ãÆ‚ãÆ</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                    <label class="checkbox-label">${text}</label>
                    <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
                </div>
                <div class="task-content">
                    <div class="priority-selector">
                        <div class="priority-dot none selected" onclick="setTaskPriority(this, 'none')"></div>
                        <div class="priority-dot low" onclick="setTaskPriority(this, 'low')"></div>
                        <div class="priority-dot medium" onclick="setTaskPriority(this, 'medium')"></div>
                        <div class="priority-dot high" onclick="setTaskPriority(this, 'high')"></div>
                    </div>
                </div>
            `;
            return newItem;
        }

        // Auto-save functionality
        function autoSave() {
            const data = collectAllData();
            meetingData = data;
            try {
                // Store in memory (no localStorage in artifacts)
                console.log('Auto-saved data:', data);
            } catch (e) {
                console.error('Auto-save failed:', e);
            }
        }

        function manualSave() {
            autoSave();
            showSaveIndicator();
        }

        function showSaveIndicator() {
            const indicator = document.getElementById('saveIndicator');
            indicator.classList.add('show');
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 2000);
        }

        function loadSavedData() {
            // In a real application, this would load from localStorage
            // For artifacts, we'll skip this functionality
            console.log('Loaded saved data');
        }

        // Data collection
        function collectAllData() {
            const data = {
                meetingTitle: document.getElementById('meetingTitle').value,
                meetingDate: document.getElementById('meetingDate').value,
                meetingTime: document.getElementById('meetingTime').value,
                meetingPurpose: document.getElementById('meetingPurpose').value,
                mainGoal: document.getElementById('mainGoal').value,
                brainDump: document.getElementById('brainDump').innerText,
                questions: document.getElementById('questions').value,
                importantDetails: document.getElementById('importantDetails').value,
                processing: document.getElementById('processing').value,
                immediateActions: document.getElementById('immediateActions').value,
                weeklyActions: document.getElementById('weeklyActions').value,
                effectivenessRating: document.getElementById('effectivenessRating').value,
                valueReflection: document.getElementById('valueReflection').value,
                keyInsights: document.getElementById('keyInsights').value,
                commitments: document.getElementById('commitments').value,
                additionalNotes: document.getElementById('additionalNotes').innerText,
                people: collectPeopleData(),
                quickActions: collectChecklistData('quick-actions'),
                urgentItems: collectChecklistData('urgent-items'),
                importantItems: collectChecklistData('important-items'),
                futureActions: collectFormRowData('future-actions'),
                calendarItems: collectFormRowData('calendar-items'),
                timestamp: new Date().toISOString()
            };
            return data;
        }

        function collectPeopleData() {
            const people = [];
            const container = document.getElementById('peopleContainer');
            const rows = container.querySelectorAll('.form-row');
            rows.forEach(row => {
                const inputs = row.querySelectorAll('input');
                if (inputs.length >= 2) {
                    people.push({
                        name: inputs[0].value,
                        role: inputs[1].value
                    });
                }
            });
            return people;
        }

        function collectChecklistData(containerId) {
            const items = [];
            const container = document.getElementById(containerId);
            const checklistItems = container.querySelectorAll('.checklist-item');
            checklistItems.forEach(item => {
                const checkbox = item.querySelector('.checkbox');
                const label = item.querySelector('.checkbox-label');
                items.push({
                    text: label.textContent,
                    completed: checkbox.classList.contains('checked')
                });
            });
            return items;
        }

        function collectFormRowData(containerId) {
            const items = [];
            const container = document.getElementById(containerId);
            const rows = container.querySelectorAll('.form-row');
            rows.forEach(row => {
                const inputs = row.querySelectorAll('input');
                const rowData = {};
                inputs.forEach((input, index) => {
                    rowData[`field${index}`] = input.value;
                });
                if (Object.values(rowData).some(val => val.trim() !== '')) {
                    items.push(rowData);
                }
            });
            return items;
        }

        // Interactive functions
        function toggleCheck(checkbox) {
            checkbox.classList.toggle('checked');
            const label = checkbox.nextElementSibling;
            label.classList.toggle('completed');
            const item = checkbox.closest('.checklist-item');
            item.classList.toggle('completed');
            updateProgress();
            autoSave();
        }

        function selectRating(groupName, element, rating) {
            const parent = element.closest('.rating-buttons');
            parent.querySelectorAll('.rating-button').forEach(btn => {
                btn.classList.remove('selected');
            });
            element.classList.add('selected');
            element.setAttribute('data-rating', rating);
            updateProgress();
            autoSave();
        }

        function startEditing(element) {
            if (element.classList.contains('placeholder')) {
                element.innerHTML = '';
                element.classList.remove('placeholder');
            }
            element.contentEditable = true;
            element.focus();
        }

        function deleteItem(button) {
            if (confirm('Delete this item?')) {
                button.closest('.form-row, .checklist-item').remove();
                updateProgress();
                autoSave();
            }
        }

        // Add item functions
        function addPerson() {
            const container = document.getElementById('peopleContainer');
            const newItem = document.createElement('div');
            newItem.className = 'form-row';
            newItem.innerHTML = `
                <div class="form-group">
                    <input type="text" placeholder="Person's name" oninput="autoSave()">
                </div>
                <div class="form-group">
                    <input type="text" placeholder="Their role/title" oninput="autoSave()">
                </div>
                <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
            `;
            container.appendChild(newItem);
            autoSave();
        }

        function addQuickAction() {
            const text = prompt('Enter quick action:');
            if (text && text.trim()) {
                const container = document.getElementById('quick-actions');
                const newItem = createChecklistItem(text.trim());
                container.appendChild(newItem);
                autoSave();
            }
        }

        function addUrgentItem() {
            const text = prompt('Enter urgent item:');
            if (text && text.trim()) {
                const container = document.getElementById('urgent-items');
                const newItem = createChecklistItem(text.trim());
                container.appendChild(newItem);
                autoSave();
            }
        }

        function addImportantItem() {
            const text = prompt('Enter important item:');
            if (text && text.trim()) {
                const container = document.getElementById('important-items');
                const newItem = createChecklistItem(text.trim());
                container.appendChild(newItem);
                autoSave();
            }
        }

        function addFutureAction() {
            const container = document.getElementById('future-actions');
            const newItem = document.createElement('div');
            newItem.className = 'form-row';
            newItem.innerHTML = `
                <div class="form-group">
                    <label>Due:</label>
                    <input type="date" class="form-input" oninput="autoSave()">
                </div>
                <div class="form-group">
                    <label>Task:</label>
                    <input type="text" class="form-input" placeholder="Describe the task" oninput="autoSave()">
                </div>
                <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
            `;
            container.appendChild(newItem);
            autoSave();
        }

        function addPersonTracking() {
            const needsContainer = document.getElementById('people-needs');
            const owesContainer = document.getElementById('people-owes');
            
            const needsItem = document.createElement('div');
            needsItem.className = 'form-row';
            needsItem.innerHTML = `
                <div class="form-group">
                    <label>Name:</label>
                    <input type="text" class="form-input" placeholder="Person's name" oninput="autoSave()">
                </div>
                <div class="form-group small">
                    <label>By:</label>
                    <input type="date" class="form-input" oninput="autoSave()">
                </div>
                <div class="form-group">
                    <label>Needs:</label>
                    <input type="text" class="form-input" placeholder="What they need" oninput="autoSave()">
                </div>
                <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
            `;
            needsContainer.appendChild(needsItem);
            
            const owesItem = document.createElement('div');
            owesItem.className = 'form-row';
            owesItem.innerHTML = `
                <div class="form-group">
                    <label>Name:</label>
                    <input type="text" class="form-input" placeholder="Person's name" oninput="autoSave()">
                </div>
                <div class="form-group">
                    <label>Owes:</label>
                    <input type="text" class="form-input" placeholder="What they owe you" oninput="autoSave()">
                </div>
                <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
            `;
            owesContainer.appendChild(owesItem);
            autoSave();
        }

        function addCalendarItem() {
            const container = document.getElementById('calendar-items');
            const newItem = document.createElement('div');
            newItem.className = 'form-row';
            newItem.innerHTML = `
                <div class="form-group">
                    <label>Item:</label>
                    <input type="text" class="form-input" placeholder="Calendar item" oninput="autoSave()">
                </div>
                <div class="form-group small">
                    <label>Date:</label>
                    <input type="date" class="form-input" oninput="autoSave()">
                </div>
                <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
            `;
            container.appendChild(newItem);
            autoSave();
        }

        // Timer functions
        function toggleTimerControls() {
            const controls = document.getElementById('timerControls');
            controls.style.display = controls.style.display === 'flex' ? 'none' : 'flex';
        }

        function startTimer() {
            if (!timerRunning) {
                timerRunning = true;
                document.getElementById('startBtn').style.display = 'none';
                document.getElementById('pauseBtn').style.display = 'inline-block';
                
                timerInterval = setInterval(() => {
                    timerSeconds++;
                    updateTimerDisplay();
                }, 1000);
            }
        }

        function pauseTimer() {
            if (timerRunning) {
                timerRunning = false;
                clearInterval(timerInterval);
                document.getElementById('startBtn').style.display = 'inline-block';
                document.getElementById('pauseBtn').style.display = 'none';
            }
        }

        function stopTimer() {
            timerRunning = false;
            clearInterval(timerInterval);
            timerSeconds = 0;
            updateTimerDisplay();
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('pauseBtn').style.display = 'none';
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timerSeconds / 60);
            const seconds = timerSeconds % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('timerDisplay').textContent = display;
            
            const widget = document.getElementById('timerWidget');
            widget.classList.remove('warning', 'danger');
            
            if (timerSeconds > 3600) { // Over 1 hour
                widget.classList.add('danger');
            } else if (timerSeconds > 2700) { // Over 45 minutes
                widget.classList.add('warning');
            }
        }

        // Focus mode functions
        function openFocusMode() {
            document.getElementById('focusMode').style.display = 'flex';
        }

        function closeFocusMode() {
            document.getElementById('focusMode').style.display = 'none';
            if (focusRunning) {
                clearInterval(focusTimerInterval);
                focusRunning = false;
            }
        }

        function startFocusSession(minutes) {
            focusSeconds = minutes * 60;
            focusRunning = true;
            
            focusTimerInterval = setInterval(() => {
                focusSeconds--;
                updateFocusDisplay();
                
                if (focusSeconds <= 0) {
                    clearInterval(focusTimerInterval);
                    focusRunning = false;
                    alert('üéâ Focus session complete! Great job!');
                    closeFocusMode();
                }
            }, 1000);
        }

        function updateFocusDisplay() {
            const minutes = Math.floor(focusSeconds / 60);
            const seconds = focusSeconds % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('focusTimer').textContent = display;
        }

        // Export functions
        function openExportModal() {
            document.getElementById('exportModal').style.display = 'flex';
        }

        function closeExportModal() {
            document.getElementById('exportModal').style.display = 'none';
        }

        function exportData(format) {
            const data = collectAllData();
            
            switch (format) {
                case 'text':
                    exportAsText(data);
                    break;
                case 'json':
                    exportAsJSON(data);
                    break;
                case 'email':
                    exportAsEmail(data);
                    break;
            }
            
            closeExportModal();
            showSaveIndicator();
        }

        function exportAsText(data) {
            const text = `
MEETING SUMMARY: ${data.meetingTitle || 'Untitled Meeting'}
Date: ${data.meetingDate} ${data.meetingTime}

PURPOSE: ${data.meetingPurpose}

MAIN GOAL: ${data.mainGoal}

BRAIN DUMP:
${data.brainDump}

KEY INSIGHTS:
${data.keyInsights}

IMMEDIATE ACTIONS:
${data.immediateActions}

WEEKLY ACTIONS:
${data.weeklyActions}

TOP COMMITMENTS:
${data.commitments}

QUESTIONS:
${data.questions}

IMPORTANT DETAILS:
${data.importantDetails}

ADDITIONAL NOTES:
${data.additionalNotes}

Generated on: ${new Date().toLocaleString()}
            `.trim();
            
            downloadFile(text, `meeting-notes-${data.meetingDate || 'untitled'}.txt`, 'text/plain');
        }

        function exportAsJSON(data) {
            const jsonData = JSON.stringify(data, null, 2);
            downloadFile(jsonData, `meeting-data-${data.meetingDate || 'untitled'}.json`, 'application/json');
        }

        function exportAsEmail(data) {
            const subject = `Meeting Summary: ${data.meetingTitle || 'Untitled Meeting'}`;
            const body = `
Hi team,

Here's a summary of our meeting on ${data.meetingDate}:

PURPOSE: ${data.meetingPurpose}

KEY DECISIONS:
${data.keyInsights}

IMMEDIATE ACTIONS:
${data.immediateActions}

THIS WEEK:
${data.weeklyActions}

FOLLOW-UP ITEMS:
${data.commitments}

Please let me know if I missed anything important.

Best regards
            `.trim();
            
            const mailtoLink = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            window.open(mailtoLink);
        }

        function downloadFile(content, filename, contentType) {
            const blob = new Blob([content], { type: contentType });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        function printData() {
            const data = collectAllData();
            const printContent = `
                <html>
                <head>
                    <title>Meeting Notes - ${data.meetingTitle}</title>
                    <style>
                        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 40px; }
                        h1 { color: #333; border-bottom: 2px solid #4facfe; padding-bottom: 10px; }
                        h2 { color: #555; margin-top: 25px; }
                        .section { margin-bottom: 20px; }
                        .highlight { background: #f0f8ff; padding: 10px; border-radius: 5px; }
                    </style>
                </head>
                <body>
                    <h1>üß† ${data.meetingTitle || 'Meeting Notes'}</h1>
                    <p><strong>Date:</strong> ${data.meetingDate} ${data.meetingTime}</p>
                    
                    <div class="section">
                        <h2>Purpose</h2>
                        <p>${data.meetingPurpose}</p>
                    </div>
                    
                    <div class="section">
                        <h2>Main Goal</h2>
                        <p>${data.mainGoal}</p>
                    </div>
                    
                    <div class="section highlight">
                        <h2>Key Insights & Decisions</h2>
                        <p>${data.keyInsights}</p>
                    </div>
                    
                    <div class="section">
                        <h2>Immediate Actions</h2>
                        <p>${data.immediateActions}</p>
                    </div>
                    
                    <div class="section">
                        <h2>This Week</h2>
                        <p>${data.weeklyActions}</p>
                    </div>
                    
                    <div class="section">
                        <h2>Top Commitments</h2>
                        <p>${data.commitments}</p>
                    </div>
                    
                    <div class="section">
                        <h2>Brain Dump</h2>
                        <p>${data.brainDump}</p>
                    </div>
                    
                    <div class="section">
                        <h2>Questions</h2>
                        <p>${data.questions}</p>
                    </div>
                    
                    <div class="section">
                        <h2>Important Details</h2>
                        <p>${data.importantDetails}</p>
                    </div>
                    
                    <div class="section">
                        <h2>Additional Notes</h2>
                        <p>${data.additionalNotes}</p>
                    </div>
                    
                    <hr style="margin-top: 30px;">
                    <p><small>Generated on ${new Date().toLocaleString()}</small></p>
                </body>
                </html>
            `;
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(printContent);
            printWindow.document.close();
            printWindow.focus();
            printWindow.print();
            
            closeExportModal();
        }

        // Progress tracking
        function updateProgress() {
            const fields = [
                'meetingTitle',
                'meetingPurpose', 
                'mainGoal',
                'processing',
                'immediateActions',
                'keyInsights',
                'commitments'
            ];
            
            let completed = 0;
            fields.forEach(fieldId => {
                const element = document.getElementById(fieldId);
                if (element && element.value && element.value.trim().length > 0) {
                    completed++;
                }
            });
            
            // Check brain dump
            const brainDump = document.getElementById('brainDump');
            if (brainDump && brainDump.innerText && brainDump.innerText.trim().length > 20) {
                completed++;
            }
            
            // Check effectiveness rating
            const rating = document.getElementById('effectivenessRating');
            if (rating && rating.value) {
                completed++;
            }
            
            const percentage = Math.round((completed / (fields.length + 2)) * 100);
            
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            
            if (progressBar) {
                progressBar.style.width = percentage + '%';
            }
            if (progressText) {
                progressText.textContent = percentage + '% Complete';
            }
        }

        // Word counting
        function updateWordCount(element, counterId) {
            const text = element.value || element.innerText || '';
            const wordCount = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
            const counter = document.getElementById(counterId);
            if (counter) {
                counter.textContent = `${wordCount} word${wordCount !== 1 ? 's' : ''}`;
            }
        }

        // Clear all data
        function clearAll() {
            if (confirm('‚ö†Ô∏è This will clear ALL data. Are you sure?')) {
                // Clear all form fields
                document.querySelectorAll('input[type="text"], input[type="date"], input[type="time"], textarea, select').forEach(field => {
                    field.value = '';
                });
                
                // Clear contenteditable areas
                document.querySelectorAll('[contenteditable]').forEach(area => {
                    area.innerHTML = area.classList.contains('placeholder') ? 
                        (area.id === 'brainDump' ? 'Click here to dump all thoughts, ideas, and random notes during the meeting...' : 
                         'Add any additional notes here...') : '';
                    area.classList.add('placeholder');
                });
                
                // Reset checkboxes
                document.querySelectorAll('.checkbox').forEach(checkbox => {
                    checkbox.classList.remove('checked');
                });
                document.querySelectorAll('.checkbox-label').forEach(label => {
                    label.classList.remove('completed');
                });
                document.querySelectorAll('.checklist-item').forEach(item => {
                    item.classList.remove('completed');
                });
                
                // Reset ratings
                document.querySelectorAll('.rating-button').forEach(button => {
                    button.classList.remove('selected');
                });
                
                // Reset template selector
                document.getElementById('templateSelect').value = '';
                
                // Reset timers
                stopTimer();
                
                // Reset word counters
                document.querySelectorAll('.word-counter').forEach(counter => {
                    counter.textContent = '0 words';
                });
                
                // Reset progress
                updateProgress();
                
                // Set today's date
                setTodaysDate();
                
                showSaveIndicator();
            }
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + S for save
            if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                e.preventDefault();
                manualSave();
            }
            
            // Ctrl/Cmd + F for focus mode
            if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                e.preventDefault();
                openFocusMode();
            }
            
            // Escape to close modals
            if (e.key === 'Escape') {
                closeFocusMode();
                closeExportModal();
            }
        });

        // Enhanced ADHD-friendly features
        
        // Auto-expand text areas as you type
        document.addEventListener('input', function(e) {
            if (e.target.tagName === 'TEXTAREA') {
                e.target.style.height = 'auto';
                e.target.style.height = e.target.scrollHeight + 'px';
            }
        });

        // Visual feedback for completed sections
        function checkSectionCompletion() {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                const inputs = section.querySelectorAll('input, textarea, select');
                let hasContent = false;
                
                inputs.forEach(input => {
                    if ((input.value && input.value.trim()) || 
                        (input.innerText && input.innerText.trim() && !input.classList.contains('placeholder'))) {
                        hasContent = true;
                    }
                });
                
                if (hasContent) {
                    section.style.borderLeft = '4px solid #28a745';
                } else {
                    section.style.borderLeft = 'none';
                }
            });
        }

        // Run completion check periodically
        setInterval(checkSectionCompletion, 5000);

        // Smart notifications for long meetings
        function checkMeetingDuration() {
            if (timerRunning && timerSeconds > 0) {
                if (timerSeconds === 2700) { // 45 minutes
                    if (confirm('‚è∞ This meeting has been running for 45 minutes. Would you like to take a 5-minute break?')) {
                        openFocusMode();
                        startFocusSession(5);
                    }
                } else if (timerSeconds === 3600) { // 1 hour
                    alert('‚ö†Ô∏è This meeting has exceeded 1 hour. Consider wrapping up or scheduling a follow-up.');
                }
            }
        }

        setInterval(checkMeetingDuration, 60000); // Check every minute

                alert('Unable to access microphone. Please check permissions.');
            }
        }

        function stopAudioRecording() {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                mediaRecorder.stop();
                clearInterval(recordingInterval);
                document.getElementById('recordingIndicator').classList.remove('active');
            }
        }

        // Photo and Video Functions
        function capturePhoto() {
            document.getElementById('photoInput').click();
        }

        function selectVideo() {
            document.getElementById('videoInput').click();
        }

        function handlePhotoUpload(input) {
            const file = input.files[0];
            if (file) {
                const url = URL.createObjectURL(file);
                addMediaToPreview('image', url, file.name);
                input.value = ''; // Reset input
            }
        }

        function handleVideoUpload(input) {
            const file = input.files[0];
            if (file) {
                const url = URL.createObjectURL(file);
                addMediaToPreview('video', url, file.name);
                input.value = ''; // Reset input
            }
        }

        function addMediaToPreview(type, url, name) {
            const preview = document.getElementById('mediaPreview');
            preview.style.display = 'block';
            
            const mediaItem = document.createElement('div');
            mediaItem.className = 'media-item';
            
            let mediaElement;
            if (type === 'image') {
                mediaElement = document.createElement('img');
                mediaElement.src = url;
                mediaElement.alt = name;
            } else if (type === 'video') {
                mediaElement = document.createElement('video');
                mediaElement.src = url;
                mediaElement.controls = true;
            } else if (type === 'audio') {
                mediaElement = document.createElement('audio');
                mediaElement.src = url;
                mediaElement.controls = true;
            }
            
            const removeBtn = document.createElement('button');
            removeBtn.className = 'media-remove';
            removeBtn.innerHTML = '√ó';
            removeBtn.onclick = () => {
                mediaItem.remove();
                URL.revokeObjectURL(url);
                if (preview.children.length === 0) {
                    preview.style.display = 'none';
                }
            };
            
            const label = document.createElement('div');
            label.textContent = name;
            label.style.fontSize = '12px';
            label.style.marginTop = '5px';
            label.style.color = '#666';
            
            mediaItem.appendChild(mediaElement);
            mediaItem.appendChild(removeBtn);
            mediaItem.appendChild(label);
            preview.appendChild(mediaItem);
            
            autoSave();
        }

        // Mind Map Functions
        function openMindMap() {
            document.getElementById('mindmapModal').style.display = 'flex';
            if (mindMapNodes.length === 0) {
                // Create initial central node
                addMindMapNode('Meeting Topic', 400, 300);
            }
        }

        function closeMindMap() {
            document.getElementById('mindmapModal').style.display = 'none';
        }

        function addMindMapNode(text = null, x = null, y = null) {
            const nodeText = text || prompt('Enter idea or topic:');
            if (!nodeText) return;
            
            const canvas = document.getElementById('mindmapCanvas');
            const node = document.createElement('div');
            node.className = 'mindmap-node';
            node.textContent = nodeText;
            node.contentEditable = true;
            
            // Position node
            const nodeX = x || Math.random() * (canvas.clientWidth - 200) + 50;
            const nodeY = y || Math.random() * (canvas.clientHeight - 100) + 50;
            
            node.style.left = nodeX + 'px';
            node.style.top = nodeY + 'px';
            
            // Make draggable
            let isDragging = false;
            let startX, startY, startLeft, startTop;
            
            node.addEventListener('mousedown', (e) => {
                if (e.target === node) {
                    isDragging = true;
                    startX = e.clientX;
                    startY = e.clientY;
                    startLeft = parseInt(node.style.left);
                    startTop = parseInt(node.style.top);
                    node.classList.add('selected');
                    selectedNode = node;
                    e.preventDefault();
                }
            });
            
            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    const newLeft = startLeft + (e.clientX - startX);
                    const newTop = startTop + (e.clientY - startY);
                    node.style.left = newLeft + 'px';
                    node.style.top = newTop + 'px';
                }
            });
            
            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
            
            // Double click to connect nodes
            node.addEventListener('dblclick', () => {
                if (selectedNode && selectedNode !== node) {
                    connectNodes(selectedNode, node);
                }
            });
            
            canvas.appendChild(node);
            mindMapNodes.push({
                element: node,
                text: nodeText,
                x: nodeX,
                y: nodeY
            });
            
            autoSave();
        }

        function connectNodes(node1, node2) {
            // Simple line connection (you could enhance this with SVG lines)
            const canvas = document.getElementById('mindmapCanvas');
            const line = document.createElement('div');
            line.style.position = 'absolute';
            line.style.height = '2px';
            line.style.background = '#4facfe';
            line.style.transformOrigin = '0 0';
            
            const rect1 = node1.getBoundingClientRect();
            const rect2 = node2.getBoundingClientRect();
            const canvasRect = canvas.getBoundingClientRect();
            
            const x1 = rect1.left - canvasRect.left + rect1.width / 2;
            const y1 = rect1.top - canvasRect.top + rect1.height / 2;
            const x2 = rect2.left - canvasRect.left + rect2.width / 2;
            const y2 = rect2.top - canvasRect.top + rect2.height / 2;
            
            const length = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
            const angle = Math.atan2(y2 - y1, x2 - x1);
            
            line.style.width = length + 'px';
            line.style.left = x1 + 'px';
            line.style.top = y1 + 'px';
            line.style.transform = `rotate(${angle}rad)`;
            line.style.zIndex = '1';
            
            canvas.appendChild(line);
        }

        function changeMindMapColor(color) {
            if (selectedNode) {
                selectedNode.classList.remove('high-priority', 'medium-priority', 'low-priority');
                if (color && color !== 'blue') {
                    selectedNode.classList.add(`${color}-priority`);
                } else if (color === 'blue') {
                    selectedNode.style.borderColor = '#007bff';
                    selectedNode.style.background = 'rgba(0, 123, 255, 0.1)';
                }
            }
        }

        function clearMindMap() {
            if (confirm('Clear entire mind map?')) {
                document.getElementById('mindmapCanvas').innerHTML = '';
                mindMapNodes = [];
                selectedNode = null;
            }
        }

        function exportMindMap() {
            const canvas = document.getElementById('mindmapCanvas');
            const nodes = mindMapNodes.map(node => ({
                text: node.element.textContent,
                x: parseInt(node.element.style.left),
                y: parseInt(node.element.style.top),
                priority: node.element.className.includes('priority') ? 
                    node.element.className.match(/(\w+)-priority/)?.[1] : 'none'
            }));
            
            const mindMapData = {
                title: document.getElementById('meetingTitle').value || 'Mind Map',
                nodes: nodes,
                timestamp: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(mindMapData, null, 2);
            downloadFile(dataStr, 'mindmap-export.json', 'application/json');
        }

        // Enhanced Progress Tracking with Visual Feedback
        function updateProgressWithPriority() {
            updateProgress();
            
            // Count priority items
            const highPriority = document.querySelectorAll('.priority-high').length;
            const mediumPriority = document.querySelectorAll('.priority-medium').length;
            const lowPriority = document.querySelectorAll('.priority-low').length;
            
            // Update progress text with priority info
            const progressText = document.getElementById('progressText');
            const currentText = progressText.textContent;
            
            if (highPriority + mediumPriority + lowPriority > 0) {
                progressText.innerHTML = `${currentText}<br><small>üî¥ ${highPriority} High ‚Ä¢ üü° ${mediumPriority} Med ‚Ä¢ üü¢ ${lowPriority} Low</small>`;
            }
        }

        // Enhanced Auto-Save with Media Support
        function collectMediaData() {
            const mediaItems = [];
            const mediaElements = document.querySelectorAll('.media-item');
            
            mediaElements.forEach(item => {
                const media = item.querySelector('img, video, audio');
                const label = item.querySelector('div');
                if (media && label) {
                    mediaItems.push({
                        type: media.tagName.toLowerCase(),
                        src: media.src,
                        name: label.textContent
                    });
                }
            });
            
            return mediaItems;
        }

        // Enhanced Export Functions
        function exportWithMedia(format) {
            const data = collectAllData();
            data.mediaItems = collectMediaData();
            data.mindMap = mindMapNodes.map(node => ({
                text: node.element.textContent,
                x: parseInt(node.element.style.left),
                y: parseInt(node.element.style.top)
            }));
            
            exportData(format);
        }

        // Keyboard Shortcuts for New Features
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + S for save
            if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                e.preventDefault();
                manualSave();
            }
            
            // Ctrl/Cmd + F for focus mode
            if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                e.preventDefault();
                openFocusMode();
            }
            
            // Ctrl/Cmd + M for mind map
            if ((e.ctrlKey || e.metaKey) && e.key === 'm') {
                e.preventDefault();
                openMindMap();
            }
            
            // Ctrl/Cmd + R for audio recording
            if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
                e.preventDefault();
                toggleAudioRecording();
            }
            
            // Escape to close modals
            if (e.key === 'Escape') {
                closeFocusMode();
                closeExportModal();
                closeMindMap();
                if (mediaRecorder && mediaRecorder.state === 'recording') {
                    stopAudioRecording();
                }
            }
            
            // Priority shortcuts (1, 2, 3)
            if (e.key >= '1' && e.key <= '3' && selectedNode) {
                const priorities = ['high', 'medium', 'low'];
                changeMindMapColor(priorities[parseInt(e.key) - 1]);
            }
        });

        // Enhanced Auto-Save
        const originalAutoSave = autoSave;
        function autoSave() {
            originalAutoSave();
            updateProgressWithPriority();
            
            // Save media state
            const mediaData = collectMediaData();
            if (mediaData.length > 0) {
                console.log('Media items saved:', mediaData.length);
            }
        }

        // Initialize new features
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize drag and drop
            const containers = document.querySelectorAll('#quick-actions, #urgent-items, #important-items');
            containers.forEach(container => {
                container.addEventListener('dragover', allowDrop);
                container.addEventListener('drop', drop);
            });
            
            // Update progress with priorities
            updateProgressWithPriority();
        });
    </script>
</body>
</html> class="delete-btn" onclick="deleteItem(this)">√ó</button>
                    </div>
                </div>
                <button class="add-btn" onclick="addPerson()">+ Add Person</button>

                <div class="form-group">
                    <label>My Main Goal for This Meeting:</label>
                    <textarea id="mainGoal" placeholder="What do I want to achieve?" oninput="autoSave(); updateProgress()"></textarea>
                </div>

                <div class="form-group">
                    <label>My Energy Level Right Now:</label>
                    <div class="rating-scale">
                        <span>‚ö° Low</span>
                        <div class="rating-buttons" id="energyRating">
                            <div class="rating-button" onclick="selectRating('energy', this, 1)">1</div>
                            <div class="rating-button" onclick="selectRating('energy', this, 2)">2</div>
                            <div class="rating-button" onclick="selectRating('energy', this, 3)">3</div>
                            <div class="rating-button" onclick="selectRating('energy', this, 4)">4</div>
                            <div class="rating-button" onclick="selectRating('energy', this, 5)">5</div>
                            <div class="rating-button" onclick="selectRating('energy', this, 6)">6</div>
                            <div class="rating-button" onclick="selectRating('energy', this, 7)">7</div>
                            <div class="rating-button" onclick="selectRating('energy', this, 8)">8</div>
                            <div class="rating-button" onclick="selectRating('energy', this, 9)">9</div>
                            <div class="rating-button" onclick="selectRating('energy', this, 10)">10</div>
                        </div>
                        <span>High ‚ö°</span>
                    </div>
                </div>
            </div>

            <!-- Brain Dump Zone -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">üß†</span>
                    <h2>BRAIN DUMP ZONE</h2>
                </div>
                <p style="margin-bottom: 15px; color: #6b7280; font-size: 0.9rem;">During Meeting - No Filtering! Just dump everything here.</p>
                
                <!-- Media Upload Options -->
                <div class="media-upload">
                    <button class="media-btn" onclick="toggleAudioRecording()">
                        üé§ Voice Note
                    </button>
                    <button class="media-btn" onclick="capturePhoto()">
                        üì∑ Photo
                    </button>
                    <button class="media-btn" onclick="selectVideo()">
                        üé• Video
                    </button>
                    <input type="file" id="photoInput" accept="image/*" style="display: none;" onchange="handlePhotoUpload(this)">
                    <input type="file" id="videoInput" accept="video/*" style="display: none;" onchange="handleVideoUpload(this)">
                </div>

                <div class="recording-indicator" id="recordingIndicator">
                    <div class="recording-dot"></div>
                    <span>Recording... <span id="recordingTime">00:00</span></span>
                    <button onclick="stopAudioRecording()" style="background: none; border: none; color: white; margin-left: 10px;">‚èπÔ∏è</button>
                </div>

                <div class="media-preview" id="mediaPreview"></div>
                
                <!-- Priority Selector -->
                <div class="priority-selector">
                    <label style="font-size: 14px; margin-right: 10px;">Priority:</label>
                    <div class="priority-dot high" onclick="setPriority(this, 'high')" title="High Priority"></div>
                    <div class="priority-dot medium" onclick="setPriority(this, 'medium')" title="Medium Priority"></div>
                    <div class="priority-dot low" onclick="setPriority(this, 'low')" title="Low Priority"></div>
                    <div class="priority-dot none selected" onclick="setPriority(this, 'none')" title="No Priority"></div>
                </div>
                
                <div class="notes-area placeholder" id="brainDump" onclick="startEditing(this)" oninput="updateWordCount(this, 'wordCount2'); updateProgress(); autoSave()">
                    Click here to dump all thoughts, ideas, and random notes during the meeting...
                </div>
                <div class="word-counter" id="wordCount2">0 words</div>
            </div>

            <!-- Quick Action Capture -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">‚ö°</span>
                    <h2>Quick Action Capture</h2>
                </div>
                <p style="margin-bottom: 15px; color: #6b7280; font-size: 0.9rem;">Drag to reorder by priority ‚Ä¢ Color-code by importance</p>
                <div id="quick-actions" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="task-item" draggable="true" ondragstart="drag(event)">
                        <div class="task-header">
                            <span class="drag-handle">‚ãÆ‚ãÆ</span>
                            <div class="checkbox" onclick="toggleCheck(this)"></div>
                            <label class="checkbox-label">Follow up needed</label>
                            <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
                        </div>
                        <div class="task-content">
                            <div class="priority-selector">
                                <div class="priority-dot none selected" onclick="setTaskPriority(this, 'none')"></div>
                                <div class="priority-dot low" onclick="setTaskPriority(this, 'low')"></div>
                                <div class="priority-dot medium" onclick="setTaskPriority(this, 'medium')"></div>
                                <div class="priority-dot high" onclick="setTaskPriority(this, 'high')"></div>
                            </div>
                        </div>
                    </div>
                    <div class="task-item" draggable="true" ondragstart="drag(event)">
                        <div class="task-header">
                            <span class="drag-handle">‚ãÆ‚ãÆ</span>
                            <div class="checkbox" onclick="toggleCheck(this)"></div>
                            <label class="checkbox-label">Schedule another meeting</label>
                            <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
                        </div>
                        <div class="task-content">
                            <div class="priority-selector">
                                <div class="priority-dot none selected" onclick="setTaskPriority(this, 'none')"></div>
                                <div class="priority-dot low" onclick="setTaskPriority(this, 'low')"></div>
                                <div class="priority-dot medium" onclick="setTaskPriority(this, 'medium')"></div>
                                <div class="priority-dot high" onclick="setTaskPriority(this, 'high')"></div>
                            </div>
                        </div>
                    </div>
                    <div class="task-item" draggable="true" ondragstart="drag(event)">
                        <div class="task-header">
                            <span class="drag-handle">‚ãÆ‚ãÆ</span>
                            <div class="checkbox" onclick="toggleCheck(this)"></div>
                            <label class="checkbox-label">Send information</label>
                            <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
                        </div>
                        <div class="task-content">
                            <div class="priority-selector">
                                <div class="priority-dot none selected" onclick="setTaskPriority(this, 'none')"></div>
                                <div class="priority-dot low" onclick="setTaskPriority(this, 'low')"></div>
                                <div class="priority-dot medium" onclick="setTaskPriority(this, 'medium')"></div>
                                <div class="priority-dot high" onclick="setTaskPriority(this, 'high')"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="add-btn" onclick="addQuickAction()">+ Add Quick Action</button>
            </div>

            <!-- Random Thoughts -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">üí≠</span>
                    <h2>Random Thoughts & Ideas</h2>
                </div>
                <div class="form-group">
                    <label>Questions That Came Up:</label>
                    <div style="position: relative;">
                        <textarea id="questions" placeholder="List any questions that arose" oninput="updateWordCount(this, 'wordCount3'); autoSave()"></textarea>
                        <div class="word-counter" id="wordCount3">0 words</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Important Numbers/Dates/Details:</label>
                    <div style="position: relative;">
                        <textarea id="importantDetails" placeholder="Capture specific details, numbers, dates" oninput="updateWordCount(this, 'wordCount4'); autoSave()"></textarea>
                        <div class="word-counter" id="wordCount4">0 words</div>
                    </div>
                </div>
            </div>

            <!-- Post-Meeting -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">üìù</span>
                    <h2>POST-MEETING</h2>
                </div>
                <div class="form-group">
                    <label>Processing (5 minutes):</label>
                    <div style="position: relative;">
                        <textarea id="processing" placeholder="What happened? Key outcomes?" oninput="updateWordCount(this, 'wordCount5'); autoSave(); updateProgress()"></textarea>
                        <div class="word-counter" id="wordCount5">0 words</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Immediate Actions (Do today!):</label>
                    <textarea id="immediateActions" placeholder="What needs to happen today?" oninput="autoSave(); updateProgress()"></textarea>
                </div>
                <div class="form-group">
                    <label>This Week:</label>
                    <textarea id="weeklyActions" placeholder="Actions for this week" oninput="autoSave(); updateProgress()"></textarea>
                </div>
            </div>

            <!-- Urgent Section -->
            <div class="section urgent-section">
                <div class="section-header">
                    <span class="section-icon">üö®</span>
                    <h2>URGENT</h2>
                </div>
                <div id="urgent-items">
                    <div class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <label class="checkbox-label" contenteditable="true">Click to edit urgent item</label>
                        <button class="delete-btn" onclick="deleteItem(this)">√ó</button>
                    </div>
                </div>
                <button